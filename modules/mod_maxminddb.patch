diff --git a/src/mod_maxminddb.c b/src/mod_maxminddb.c
index 0b733ec..3c631c6 100644
--- a/src/mod_maxminddb.c
+++ b/src/mod_maxminddb.c
@@ -35,6 +35,9 @@
 #if APR_HAVE_SYS_SOCKET_H
 #include <sys/socket.h>
 #endif
+#if APR_HAVE_WINSOCK2_H
+#include <winsock2.h>
+#endif
 #include <sys/types.h>
 
 #ifdef APLOG_USE_MODULE
